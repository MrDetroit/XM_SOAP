<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="cc22e812-171b-4245-92c7-d00b9940f63d" activeEnvironment="Default" name="Credits" soapui-version="5.4.0" abortOnError="false" runType="SEQUENTIAL" resourceRoot="" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="af333f85-7ae8-4733-b745-db755b1a6dbb" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://compass.test.xm-online.com" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://compass.test.xm-online.com</con:endpoint></con:endpoints><con:resource name="" path="/uaa/oauth/token" id="e864c552-627d-4edf-8ba1-d5c17fcc2518"><con:settings/><con:parameters><con:parameter><con:name>host</con:name><con:value/><con:style>HEADER</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>Authorization</con:name><con:value/><con:style>HEADER</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>grant_type</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>password</con:name><con:value>creditman</con:value><con:style>QUERY</con:style><con:default>creditman</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>username</con:name><con:value>creditmanager@yopmail.com</con:value><con:style>QUERY</con:style><con:default>creditmanager@yopmail.com</con:default><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="login as cm" id="4436903e-af43-4939-a5a6-1198a1fffa57" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>400 500</con:status><con:params/><con:element xmlns:tok="http://compass.test.xm-online.com/uaa/oauth/token">tok:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:tok="http://compass.test.xm-online.com/uaa/oauth/token">tok:Response</con:element></con:representation><con:request name="Request 1" id="52bfdb4f-aa69-4683-befd-28189318d1b8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://compass.test.xm-online.com</con:endpoint><con:request/><con:originalUri>http://compass.test.xm-online.com/uaa/oauth/token</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="Authorization" value="Basic aW50ZXJuYWw6aW50ZXJuYWw="/>
  <con:entry key="grant_type" value="password"/>
  <con:entry key="host" value="compass.test.xm-online.com"/>
</con:parameters><con:parameterOrder><con:entry>host</con:entry><con:entry>Authorization</con:entry><con:entry>grant_type</con:entry><con:entry>password</con:entry><con:entry>username</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="create order" path="/entity/api/xm-entities" id="8594c294-87b5-4aee-a6a1-c746c524d02f"><con:settings/><con:parameters/><con:method name="create-oreder" id="0a38f9a3-7204-4bd6-9524-97f650dd8f31" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/x-www-form-urlencoded</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>401 500 400 403</con:status><con:params/><con:element xmlns:xm="http://compass.test.xm-online.com/entity/api/xm-entities">xm:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>201</con:status><con:params/><con:element xmlns:xm="http://compass.test.xm-online.com/entity/api/xm-entities">xm:Response</con:element></con:representation><con:request name="Request 1" id="90db6153-b2c2-4f5e-978a-543132e12e1f" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://compass.test.xm-online.com</con:endpoint><con:request>{"key":"bc83eaa7-a939-defe-cdbe-fac297e76fd2",
"typeKey":"ORDER",
"stateKey":"PROCESSED",
"name":"Test order 1",
"startDate":null,
"updateDate":null,
"endDate":null,
"description":"",
"data":
{"sapOrderId":"12545845",
"sapCustomerId":"new-company-2222",
"amount":100,
"priceOfCredits":1,
"currency":"AED",
"salesChannel":"Vending",
"salesOrganization":"test",
"salesPerson":"test"},
"removed":false}</con:request><con:originalUri>http://compass.test.xm-online.com/entity/api/xm-entities</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="get account info" path="/uaa/api/account" id="2cd6e791-f626-45c7-8404-9a6d4163a56e"><con:settings/><con:parameters/><con:method name="get-info" id="b575815a-35a9-48b6-aafb-80c399c66232" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>404 401 403</con:status><con:params/><con:element xmlns:acc="http://compass.test.xm-online.com/uaa/oauth/account">acc:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:acc="http://compass.test.xm-online.com/uaa/oauth/account">acc:Response</con:element></con:representation><con:request name="Request 1" id="2df7d738-1449-4dc2-a359-95c64162088e" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://compass.test.xm-online.com</con:endpoint><con:request/><con:originalUri>http://compass.test.xm-online.com/uaa/api/account</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:testSuite id="459e1a2c-e1a8-475b-b0b6-39fe8928c494" name="CM-order-create"><con:description>TestSuite generated for REST Service [http://compass.test.xm-online.com]</con:description><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="f5b4e608-e13e-479f-bd1d-5aad792c7cef" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="http://compass.test.xm-online.com" searchProperties="true"><con:settings/><con:testStep type="properties" name="prop" id="83953767-f0bf-4320-a3a7-cf6ede34bb25"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>access_token</con:name><con:value>eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJjcmVhdGVUb2tlblRpbWUiOjE1MzYxMzk5OTA5NjMsInVzZXJfbmFtZSI6ImNyZWRpdG1hbmFnZXJAeW9wbWFpbC5jb20iLCJzY29wZSI6WyJvcGVuaWQiXSwicm9sZV9rZXkiOiJST0xFX0NSRURJVF9NQU5BR0VSIiwidXNlcl9rZXkiOiI3MTZmZjRhMi0yZDUzLTQzYmUtOWVlMi05YTdhNThhZTBmZmQiLCJleHAiOjE1MzYxODMxOTAsImFkZGl0aW9uYWxEZXRhaWxzIjp7fSwibG9naW5zIjpbeyJ0eXBlS2V5IjoiTE9HSU4uRU1BSUwiLCJzdGF0ZUtleSI6bnVsbCwibG9naW4iOiJjcmVkaXRtYW5hZ2VyQHlvcG1haWwuY29tIn1dLCJhdXRob3JpdGllcyI6WyJST0xFX0NSRURJVF9NQU5BR0VSIl0sImp0aSI6IjkyOTRkNDIyLWUxODQtNDhhMy1iOWNiLWRhNDRiNTk4YTBhYSIsInRlbmFudCI6IkNPTVBBU1MiLCJjbGllbnRfaWQiOiJpbnRlcm5hbCJ9.dRTWtiHPM3PsAACdcOmW2RrwDnXDBHw_-QXksgo3JqSf4vU1aq3xo-zCnNNZ3gH3Th-U0c8eMisQQx8D_ROibOa1bsFusjcieMdUH1UxDVXtI-8HviNBiS8anviYo9_caA6pfa0z56UloOZHiXa3IeyWwmIBoVlmwSKxHh7_Gy5QdL_Qc3gUVtCOwtzx1bKYSkb1xK9FczDT2Q_HMub3sJiaAd9xx2dUdylD7BummtyV818ic7ayVfgZ78sQkBqzmg59sogkLPi4v3awYs00wkVaUwg1avLNonxSDapzdE_qOAflv_jbKGxDo_AYm87VdepGQkFgPSsLaH-xOivEZA</con:value></con:property><con:property><con:name>caaid</con:name><con:value>SAP-API-1600015</con:value></con:property><con:property><con:name>id</con:name><con:value>${=java.util.UUID.randomUUID()}</con:value></con:property><con:property><con:name>amount</con:name><con:value>1002</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="loginascm" id="260ae280-7dcd-4387-92c6-019ff9e122b6"><con:settings/><con:config service="http://compass.test.xm-online.com" resourcePath="/uaa/oauth/token" methodName="login as cm" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="loginascm" id="52bfdb4f-aa69-4683-befd-28189318d1b8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://compass.test.xm-online.com</con:endpoint><con:request/><con:originalUri>http://compass.test.xm-online.com/uaa/oauth/token</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="Authorization" value="Basic aW50ZXJuYWw6aW50ZXJuYWw="/>
  <con:entry key="password" value="creditman"/>
  <con:entry key="grant_type" value="password"/>
  <con:entry key="host" value="compass.test.xm-online.com"/>
  <con:entry key="username" value="creditmanager@yopmail.com"/>
</con:parameters><con:parameterOrder><con:entry>host</con:entry><con:entry>Authorization</con:entry><con:entry>grant_type</con:entry><con:entry>password</con:entry><con:entry>username</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="token_cm" id="2f185627-c675-442f-86a9-fdb4b2397053"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>access_token</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>loginascm</con:sourceStep><con:sourcePath>$.access_token</con:sourcePath><con:targetType>access_token</con:targetType><con:targetStep>prop</con:targetStep><con:type>JSONPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="get_info_account" id="ecfa21dd-7adf-4ff5-94d8-ce544c570547"><con:settings/><con:config service="http://compass.test.xm-online.com" resourcePath="/uaa/api/account" methodName="get-info" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="get_info_account" id="2df7d738-1449-4dc2-a359-95c64162088e" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="bearer ${prop#access_token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://compass.test.xm-online.com</con:endpoint><con:request/><con:originalUri>http://compass.test.xm-online.com/uaa/oauth/account</con:originalUri><con:assertion type="JsonPath Existence Match" id="397552c9-0ccc-4b78-9415-c60511fc073f" name="JsonPath Existence Match"><con:configuration><path>$.roleKey</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="generate order" id="8ebca91c-582c-4542-90de-eae128ff4ecd"><con:settings/><con:config service="http://compass.test.xm-online.com" resourcePath="/entity/api/xm-entities" methodName="create-oreder" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="generate order" id="90db6153-b2c2-4f5e-978a-543132e12e1f" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="bearer ${prop#access_token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://compass.test.xm-online.com</con:endpoint><con:request>{"key":"bc83eaa7-a939-defe-cdbe-fac297e76fd2",
"typeKey":"ORDER",
"stateKey":"PROCESSED",
"name":"Test order 1",
"startDate":null,
"updateDate":null,
"endDate":null,
"description":"",
"data":
{"sapOrderId":"${prop#id}",
"sapCustomerId":"${prop#caaid}",
"amount":${prop#amount},
"priceOfCredits":1,
"currency":"AED",
"salesChannel":"Vending",
"salesOrganization":"test",
"salesPerson":"test"},
"removed":false}</con:request><con:originalUri>http://compass.test.xm-online.com/entity/api/xm-entities</con:originalUri><con:assertion type="Invalid HTTP Status Codes" id="f36aa317-799a-42dd-9ff0-890ffa6b1e30" name="Invalid HTTP Status Codes"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>